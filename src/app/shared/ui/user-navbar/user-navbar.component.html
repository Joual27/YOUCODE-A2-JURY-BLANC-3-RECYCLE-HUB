<nav class="bg-secondary-b shadow-lg">
  <div class="container mx-auto px-4">
    <div class="flex justify-between">
      <div class="flex space-x-7">
        <div>
          <a href="#" class="flex items-center py-4 px-2">
            <h1 class="text-3xl font-semibold">Recycle<span class="text-primary-green">HUB</span></h1>
          </a>
        </div>
      </div>
      <div class="flex items-center space-x-3">
        <a (click)="togglePopup()" class="py-2 px-2 font-medium text-gray-500 rounded hover:bg-primary-green hover:text-white transition duration-300 cursor-pointer">
          <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16" />
          </svg>
        </a>
      </div>
    </div>
  </div>
  
  <div *ngIf="showPopup" class="absolute right-[11%] mt-2 w-48 bg-white rounded-md overflow-hidden shadow-xl z-10">
    <ng-container *ngIf="user$ | async as user">
      <ng-container *ngIf="user.role === 'collector'">
        <a routerLink="/collector/profile" class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 cursor-pointer" (click)="hidePopup()">Profile</a>
        <a routerLink="/collector/dashboard" class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 cursor-pointer" (click)="hidePopup()">Browse Requests</a>
      </ng-container>
      <ng-container *ngIf="user.role === 'user'">
        <a routerLink="/user/profile" class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100  cursor-pointer" (click)="hidePopup()">Profile</a>
        <a routerLink="/user/requests" class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 cursor-pointer" (click)="hidePopup()">Make Requests</a>
        <a href="#" class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 cursor-pointer" (click)="hidePopup()">My Requests</a>
        <a href="#" class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 cursor-pointer" (click)="hidePopup()"> My Points</a>
      </ng-container>
      <a (click)="logout()" class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 cursor-pointer" (click)="hidePopup()">Logout</a>
    </ng-container>
  </div>
</nav>